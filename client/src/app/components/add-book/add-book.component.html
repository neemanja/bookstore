<div class="row">
  <div class="col-md-10 mx-auto">
    <form [formGroup]="bookForm" (ngSubmit)="addBook(); bookForm.reset()">
      <div class="form-group row">
        <div class="col-sm-6">
          <label>Title</label>
          <input type="text" name="title" formControlName="title" class="form-control" placeholder="Title">
          <div class="alert" *ngIf="!bookForm.controls['title'].valid && bookForm.controls['title'].touched"><span>This field is required</span></div>
        </div>
        <div class="col-sm-6">
          <label>Author</label>
          <input type="text" name="author" formControlName="author" class="form-control" placeholder="Author">
          <div class="alert" *ngIf="!bookForm.controls['author'].valid && bookForm.controls['author'].touched">This field is required</div>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-6">
          <label>Category</label>
          <select class="form-control" name="category" formControlName="category">
              <option *ngFor="let option of categoryID.availableOptions" [ngValue]="option._id">{{option.name}}</option>
          </select>
          <div class="alert" *ngIf="!bookForm.controls['category'].valid && bookForm.controls['category'].touched">This field is required</div>
        </div>
        <div class="col-sm-6">
          <label>Publisher</label>
          <input type="text" name="publisher" formControlName="publisher" class="form-control" placeholder="Publisher">
          <div class="alert" *ngIf="!bookForm.controls['publisher'].valid && bookForm.controls['publisher'].touched">This field is required</div>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-6">
          <label>ISBN</label>
          <input type="text"  name="isbn" formControlName="isbn" class="form-control" placeholder="ISBN">
          <div  *ngIf="bookForm.controls['isbn'].invalid && (bookForm.controls['isbn'].dirty || bookForm.controls['isbn'].touched)" >
            <div class="alert" *ngIf="bookForm.controls['isbn'].errors.required">This field is required</div>
            <div class="alert" *ngIf="bookForm.controls['isbn'].errors.pattern">ISBN-13 was not in correct form</div>
          </div>
        </div>
        <div class="col-sm-6">
          <label>URL</label>
          <input type="text" name="url" formControlName="url" class="form-control" placeholder="URL">
          <div class="alert" *ngIf="!bookForm.controls['url'].valid && bookForm.controls['url'].touched">This field is required</div>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-6">
          <label>Description</label>
          <textarea   name="description" formControlName="description" class="form-control" placeholder="Book Description"></textarea> 
          <div class="alert" *ngIf="!bookForm.controls['description'].valid && bookForm.controls['description'].touched">This field is required</div>
        </div>
        <div class="col-sm-6">
          <label>Cover URL</label>
          <input type="text"  name="cover"  formControlName="cover" class="form-control" placeholder="Cover URL">
          <div class="alert" *ngIf="!bookForm.controls['cover'].valid && bookForm.controls['cover'].touched">This field is required</div>
        </div>
      </div>
      <div class="position-right">
          <button type="submit" [disabled]="!bookForm.valid" class="btn btn-primary" *ngIf="!isUpdate">Add</button>
          <button type="button" [disabled]="!bookForm.valid" class="btn btn-primary" *ngIf="isUpdate" (click)="updateBook()">Update</button>
          <button type="button" class="btn btn-secondary"  data-dismiss="modal" (click)="bookForm.reset()">Close</button>
      </div>
    </form>
  </div>
</div>